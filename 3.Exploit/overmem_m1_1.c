#include <stdio.h>
#include <string.h>

void t1()
{
	unsigned char canary[5];
	unsigned char foo[4];

	memset(foo, '\x00', sizeof(foo));
	strcpy(canary, "AAAA");

	printf("%16u%n", 1, (int *)&foo[0]);
	printf("%32u%n", 1, (int *)&foo[1]);
	printf("%64u%n", 1, (int *)&foo[2]);
	printf("%128u%n", 1, (int *)&foo[3]);

	printf("\nfoo: %02x%02x%02x%02x\n",
			 foo[0], foo[1], foo[2], foo[3]);
	printf("canary: %02x%02x%02x%02x\n",
			 canary[0], canary[1], canary[2], canary[3]);
}

void t2()
{
	unsigned char canary[5];
	unsigned char foo[4];

	memset(foo, '\x00', sizeof(foo));
	strcpy(canary, "AAAA");

	printf("%16u%n%16u%n%32u%n%64u%n",
			 1, (int *)&foo[0],
			 1, (int *)&foo[1],
			 1, (int *)&foo[2],
			 1, (int *)&foo[3]);

	printf("\nfoo: %02x%02x%02x%02x\n", foo[0], foo[1], foo[2], foo[3]);
	printf("canary: %02x%02x%02x%02x\n", canary[0], canary[1], canary[2], canary[3]);
}

int main(int argv, char* argc[])
{
	t1();
	return 0;
}